section 20 Basic-Playback

test 20-10 Insert-Play
get main CHK_MAIN_MUSICQ
chk mq0len 0
msg main MUSICQ_INSERT 0~999~0
get main CHK_MAIN_MUSICQ
chk mq0len 1
msg main CMD_PLAY
resptimeout 2000
get player CHK_PLAYER_STATUS
wait playstate playing
get main CHK_MAIN_MUSICQ
get player CHK_PLAYER_STATUS
chk mq0len 1 dbidx 0 playstate playing
mssleep 2000
get player CHK_PLAYER_STATUS
chk playstate playing
resptimeout 35000
get player CHK_PLAYER_STATUS
wait playstate in-fadeout
resptimeout 5000
wait playstate in-gap
wait playstate stopped
get main CHK_MAIN_MUSICQ
chk mq0len 0
mssleep 3000
get player CHK_PLAYER_STATUS
chk playstate stopped
get main CHK_MAIN_MUSICQ
chk mq0len 0
end

test 20-20 Insert-Play-2
get main CHK_MAIN_MUSICQ
chk mq0len 0
msg main MUSICQ_INSERT 0~999~1
get main CHK_MAIN_MUSICQ
chk mq0len 1
msg main CMD_PLAY
mssleep 500
get main CHK_MAIN_MUSICQ
get player CHK_PLAYER_STATUS
chk mq0len 1 dbidx 1 playstate playing
mssleep 2000
msg main MUSICQ_INSERT 0~999~2
get main CHK_MAIN_MUSICQ
get player CHK_PLAYER_STATUS
chk mq0len 2 dbidx 1 playstate playing
resptimeout 35000
get player CHK_PLAYER_STATUS
wait playstate in-fadeout
resptimeout 5000
wait playstate in-gap
wait playstate playing
get main CHK_MAIN_MUSICQ
chk mq0len 1 dbidx 2
get player CHK_PLAYER_STATUS
resptimeout 35000
wait playstate stopped
get main CHK_MAIN_MUSICQ
chk mq0len 0
end

