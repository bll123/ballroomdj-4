section 50 Playback-Controls-Advanced

test 50-20 Next-Song
get main CHK_MAIN_MUSICQ
chk mq0len 0
get player CHK_PLAYER_STATUS
chk prepqueuecount 0
print stopped
msg main MUSICQ_INSERT 0~999~2
msg main MUSICQ_INSERT 0~999~4
msg main MUSICQ_INSERT 0~999~6
msg main MUSICQ_INSERT 0~999~8
msg main MUSICQ_INSERT 0~999~10
msg main MUSICQ_INSERT 0~999~12
msg main MUSICQ_INSERT 0~999~14
get main CHK_MAIN_MUSICQ
chk mq0len 7
get player CHK_PLAYER_STATUS
chk prepqueuecount 5
msg main CMD_NEXTSONG
mssleep 200
get main CHK_MAIN_MUSICQ
chk mq0len 6
get player CHK_PLAYER_STATUS
chk prepqueuecount 5
msg main CMD_NEXTSONG
mssleep 200
get main CHK_MAIN_MUSICQ
chk mq0len 5
get player CHK_PLAYER_STATUS
chk prepqueuecount 5
msg main CMD_NEXTSONG
mssleep 200
get main CHK_MAIN_MUSICQ
chk mq0len 4
get player CHK_PLAYER_STATUS
chk prepqueuecount 4
msg main CMD_NEXTSONG
mssleep 200
get main CHK_MAIN_MUSICQ
chk mq0len 3
get player CHK_PLAYER_STATUS
chk prepqueuecount 3
msg main CMD_NEXTSONG
mssleep 200
get main CHK_MAIN_MUSICQ
chk mq0len 2
get player CHK_PLAYER_STATUS
chk prepqueuecount 2
msg main CMD_NEXTSONG
mssleep 200
get main CHK_MAIN_MUSICQ
chk mq0len 1
get player CHK_PLAYER_STATUS
chk prepqueuecount 1
msg main CMD_NEXTSONG
mssleep 200
get main CHK_MAIN_MUSICQ
chk mq0len 0
get player CHK_PLAYER_STATUS
chk prepqueuecount 0
print playing
msg main MUSICQ_INSERT 0~999~2
msg main MUSICQ_INSERT 0~999~4
msg main MUSICQ_INSERT 0~999~6
msg main MUSICQ_INSERT 0~999~8
msg main MUSICQ_INSERT 0~999~10
msg main MUSICQ_INSERT 0~999~12
msg main MUSICQ_INSERT 0~999~14
get main CHK_MAIN_MUSICQ
chk mq0len 7
get player CHK_PLAYER_STATUS
chk prepqueuecount 5
msg main CMD_PLAY
mssleep 1000
get player CHK_PLAYER_STATUS
resptimeout 1000
wait playstate playing
msg main CMD_NEXTSONG
mssleep 1000
get main CHK_MAIN_MUSICQ
chk mq0len 6
get player CHK_PLAYER_STATUS
# when a song starts playing the prep-queue entry is cleared
chk prepqueuecount 4
msg main CMD_NEXTSONG
mssleep 1000
get main CHK_MAIN_MUSICQ
chk mq0len 5
get player CHK_PLAYER_STATUS
chk prepqueuecount 4
msg main CMD_NEXTSONG
mssleep 1000
get main CHK_MAIN_MUSICQ
chk mq0len 4
get player CHK_PLAYER_STATUS
chk prepqueuecount 3
msg main CMD_NEXTSONG
mssleep 1000
get main CHK_MAIN_MUSICQ
chk mq0len 3
get player CHK_PLAYER_STATUS
chk prepqueuecount 2
msg main CMD_NEXTSONG
mssleep 1000
get main CHK_MAIN_MUSICQ
chk mq0len 2
get player CHK_PLAYER_STATUS
chk prepqueuecount 1
msg main CMD_NEXTSONG
mssleep 1000
get main CHK_MAIN_MUSICQ
chk mq0len 1
get player CHK_PLAYER_STATUS
chk prepqueuecount 0
msg main CMD_NEXTSONG
mssleep 1000
get main CHK_MAIN_MUSICQ
chk mq0len 0
get player CHK_PLAYER_STATUS
chk prepqueuecount 0
print paused
msg main MUSICQ_INSERT 0~999~2
msg main MUSICQ_INSERT 0~999~4
msg main MUSICQ_INSERT 0~999~6
msg main MUSICQ_INSERT 0~999~8
msg main MUSICQ_INSERT 0~999~10
msg main MUSICQ_INSERT 0~999~12
msg main MUSICQ_INSERT 0~999~14
get main CHK_MAIN_MUSICQ
chk mq0len 7
get player CHK_PLAYER_STATUS
chk prepqueuecount 5
msg main CMD_PLAY
mssleep 1000
get player CHK_PLAYER_STATUS
resptimeout 1000
wait playstate playing
msg main CMD_PLAYPAUSE
get player CHK_PLAYER_STATUS
wait playstate paused
msg main CMD_NEXTSONG
mssleep 200
get main CHK_MAIN_MUSICQ
chk mq0len 6
get player CHK_PLAYER_STATUS
# when a song starts playing the prep-queue entry is cleared
chk prepqueuecount 5
msg main CMD_NEXTSONG
mssleep 200
get main CHK_MAIN_MUSICQ
chk mq0len 5
get player CHK_PLAYER_STATUS
chk prepqueuecount 5
msg main CMD_NEXTSONG
mssleep 200
get main CHK_MAIN_MUSICQ
chk mq0len 4
get player CHK_PLAYER_STATUS
chk prepqueuecount 4
msg main CMD_NEXTSONG
mssleep 200
get main CHK_MAIN_MUSICQ
chk mq0len 3
get player CHK_PLAYER_STATUS
chk prepqueuecount 3
msg main CMD_NEXTSONG
mssleep 200
get main CHK_MAIN_MUSICQ
chk mq0len 2
get player CHK_PLAYER_STATUS
chk prepqueuecount 2
msg main CMD_NEXTSONG
mssleep 200
get main CHK_MAIN_MUSICQ
chk mq0len 1
get player CHK_PLAYER_STATUS
chk prepqueuecount 1
msg main CMD_NEXTSONG
mssleep 200
get main CHK_MAIN_MUSICQ
chk mq0len 0
get player CHK_PLAYER_STATUS
chk prepqueuecount 0
end

test 50-30 Repeat-Pause-At-End
msg main MUSICQ_INSERT 0~999~15
msg main MUSICQ_INSERT 0~999~17
msg main CMD_PLAY
mssleep 1000
get player CHK_PLAYER_STATUS
resptimeout 1000
wait playstate playing
chk pauseatend 0 playstate playing repeat 0
msg player PLAY_REPEAT
msg player PLAY_PAUSEATEND
get main CHK_MAIN_MUSICQ
chk mq0len 2 dbidx 15 mq0idx0 15 mq0idx1 17
get player CHK_PLAYER_STATUS
chk pauseatend 1 playstate playing repeat 1
msg player PLAY_FADE
get player CHK_PLAYER_STATUS
resptimeout 2000
wait playstate in-fadeout
resptimeout 7000
wait playstate stopped
get main CHK_MAIN_MUSICQ
chk mq0len 2 mq0idx0 15 mq0idx1 17
get player CHK_PLAYER_STATUS
chk pauseatend 0 playstate stopped repeat 1
msg main CMD_PLAY
get player CHK_PLAYER_STATUS
resptimeout 2000
wait playstate playing
chk pauseatend 0 playstate playing repeat 1
msg player PLAY_FADE
get player CHK_PLAYER_STATUS
resptimeout 1000
wait playstate in-fadeout
resptimeout 7000
wait playstate playing
chk pauseatend 0 playstate playing repeat 1
end
